{"version":3,"file":"event-calendar.js","sourceRoot":"","sources":["../../src/elements/event-calendar.ts"],"names":[],"mappings":"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","sourcesContent":["// @ts-ignore\nimport Calendar from '@event-calendar/core';\n// @ts-ignore\nimport Interaction from '@event-calendar/interaction';\n// @ts-ignore\nimport TimeGrid from '@event-calendar/time-grid';\n// @ts-ignore\nimport List from '@event-calendar/list';\n// @ts-ignore\nimport ResourceTimeGrid from '@event-calendar/resource-time-grid';\n// @ts-ignore\nimport DayGrid from '@event-calendar/day-grid';\n\n// @ts-ignore\nimport styles from '@event-calendar/core/index.css';\n\nimport { html, LitElement, PropertyValues } from 'lit';\nimport { property, query } from 'lit/decorators.js';\nimport { Event } from '../types';\n\nexport class EventCalendar extends LitElement {\n  @property({ type: Object })\n  events: Array<Event> = [];\n\n  @query('#calendar')\n  calendarEl!: HTMLElement;\n\n  @property({ type: Object })\n  props: any = {};\n\n  calendar: any;\n\n  firstUpdated() {\n    this.calendar = new Calendar({\n      target: this.calendarEl,\n      props: {\n        plugins: [TimeGrid, Interaction, List, ResourceTimeGrid, DayGrid],\n        options: {\n          view: 'timeGridWeek',\n          events: this.events,\n          dateClick: (dateClickInfo: any) => {\n            this.dispatchEvent(\n              new CustomEvent('date-clicked', {\n                bubbles: true,\n                composed: true,\n                detail: dateClickInfo,\n              })\n            );\n          },\n          eventContent(eventInfo: any) {\n            // for properties of the eventInfo object see https://github.com/vkurko/calendar#eventcontent\n            const { event } = eventInfo;\n            const { timeText } = eventInfo;\n            const titleString =\n              event.title.length > 18\n                ? `${event.title.slice(0, 18)}...`\n                : event.title;\n            if (event.extendedProps.weGroupInfo) {\n              const { logoSrc } = event.extendedProps.weGroupInfo;\n              const fullTitle = `${event.extendedProps.weGroupInfo.name} - ${event.title}`;\n              return `\n              <div title=\"${fullTitle}\" style=\"display: flex; flex-direction: column; position: relative; color: black; overflow: hidden;\">\n                <span style=\"position: absolute; right: 2px; top: 2px;\"><img src=${logoSrc} style=\"border-radius: 50%; height: 20px; width: 20px; object-fit: cover;\"></span>\n                <div style=\"display: flex; flex-direction: row; margin: 2px 2px 0 2px;\">\n                  <span style=\"overflow-x: hidden;\">${titleString}</span>\n                  <span style=\"flex: 1;\"></span>\n                </div>\n                <div>\n                  ${timeText}\n                </div>\n              </div>\n            `;\n            }\n\n            return `\n            <div title=\"${event.title}\" style=\"display: flex; flex-direction: column; position: relative; color: black; overflow: hidden;\">\n              <div style=\"display: flex; flex-direction: row; margin: 2px 2px 0 2px;\">\n                  <span>${titleString}</span>\n                </div>\n                <div>\n                  ${timeText}\n                </div>\n              </div>\n            `;\n          },\n          ...this.props,\n        },\n      },\n    });\n  }\n\n  updated(changedValues: PropertyValues) {\n    super.updated(changedValues);\n\n    if (changedValues.has('events')) {\n      this.calendar.setOption('events', this.events);\n    }\n  }\n\n  render() {\n    return html` <div id=\"calendar\"></div> `;\n  }\n\n  static styles = [styles];\n}\n"]}